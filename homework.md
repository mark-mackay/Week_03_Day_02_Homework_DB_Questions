###Q1. Where are we instantiating instances of the Property class?
Inside the console.rb

```
property1 = Property.new({
  'address' => '89 Bouverie Road, WESTON UNDER WETHERLEY, CV33 3XG',
  'value' => 120000,
  'bedrooms' => 3,
  'build' => 'detached'
  })
  
```

###Q2. Where are we defining the SQL that enables us to save the ruby Property object into the database?

inside the sql variable in the save() function...


```
  def save() # CREATE
    db = PG.connect({dbname: 'property_tracker', host: 'localhost'})
    sql = "INSERT INTO properties
    (
      address,
      value,
      bedrooms,
      build
    )
    VALUES
    (
      $1,$2,$3,$4
    )
    RETURNING id"
    values = [@address, @value, @bedrooms, @build]
    db.prepare("save", sql)
    @id = db.exec_prepared("save", values)[0]["id"]
    db.close()
  end
```


### Q3. In console.rb, which lines modify the database?
```
Property.delete_all()
property1.save()
property2.save()
property3.save()
property1.delete()
```

### Q4. Why do we not define the id of a Property object at the point we instantiate it (‘new it up’)?
The id is defined by the SQL database when the table entry is added,
the database serialises this and ensures the the primary key is unique,
the instantiation process doesn't generate this.


### Q5. Where and how do we assign the id (that is generated by the database) to the ruby Property object?
We use the return value from the save function, we have to reference it as an array with a hash value as this is what is returned.

```
@id = db.exec_prepared("save", values)[0]["id"]
```

The array element [0] contains a hash with the "id" as a label and the id number as a string as follows..

```
{"id"=>"7"}
```
### Q6. Why do we put a guard (an if clause) on the @id attribute in the constructor?
In case this has a nil value (is empty)

### Q7. Why are some of the CRUD actions represented by instance methods, and others by class methods?

Class methods reference, modify or search the whole database, instance methods interrogate or modify specific elements within the database.

### Q8. What type of data structure is returned by calls to db.exec_prepared()? In the save method, how do we access the id from the returned data structure?
It appears to be an array element containing a hash, we reference the specific hash element "id" within that to get the id number.

### Q9. Why do we use prepared statements when performing database operations?
To protect against unexpected, problematic or malicious data being injected into the database.

##Extension Questions

###Look at the find_-by-_id and find_-by-_address methods in the Property class.

### Q10. What do they take in as their arguments?
find_-by-_id takes the id number as a string and find_by_address takes the address as a string.


### Q11. What are their return values?
They return a new property object generated from the result of the search on the database,
the search returns an array of which element 0 is the property hash.
